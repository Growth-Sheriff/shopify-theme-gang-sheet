<!-- Product Recommendations -->
{%- render 'custom-css-renderer', section: section -%}

<style>
  /* Recommendations her zaman en altta */
  .cp-product-recommendations {
    order: 9999 !important;
  }
  
  /* Recommendations section wrapper da en altta */
  .shopify-section:has(.cp-product-recommendations) {
    order: 9999 !important;
  }
</style>

<section class="cp-product-recommendations">
  <div class="container">
    <div class="cp-section-header">
      <h2 class="cp-section-title">{{ section.settings.title }}</h2>
    </div>
    
    <div class="cp-products-grid">
      {% for recommendation in recommendations.products limit: 4 %}
        <a href="{{ recommendation.url }}" class="cp-product-card">
          <div class="cp-product-image">
            {% if recommendation.featured_image %}
              <img src="{{ recommendation.featured_image | image_url: width: 400 }}" alt="{{ recommendation.title }}" width="400" height="400" loading="lazy">
            {% endif %}
          </div>
          <div class="cp-product-info">
            <h3 class="cp-product-name">{{ recommendation.title }}</h3>
            <div class="cp-product-price">
              <span class="cp-product-price-current">{{ recommendation.price | money }}</span>
            </div>
          </div>
        </a>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Product Recommendations",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "You May Also Like"
    },
    {
      "type": "header",
      "content": "⚙️ Gelişmiş"
    },
    {
      "type": "textarea",
      "id": "custom_css",
      "label": "Özel CSS",
      "info": "Bu section için özel CSS kodları ekleyin"
    }
  ]
}
{% endschema %}







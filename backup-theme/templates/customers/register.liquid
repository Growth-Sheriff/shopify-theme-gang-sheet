{% comment %}
  ============================================
  CUSTOMER REGISTER TEMPLATE
  Shopify 2.0 Compatible
  ============================================
{% endcomment %}

{{ 'customers/login' | asset_url | stylesheet_tag }}

<style>
/* Inherits styles from login template */
</style>

<div class="auth-page">
  <div class="auth-container">
    <div class="auth-card">
      
      <!-- Logo -->
      <div class="auth-logo">
        <a href="{{ routes.root_url }}">
          {%- if settings.logo -%}
            <img src="{{ settings.logo | image_url: width: 200 }}" alt="{{ shop.name }}">
          {%- else -%}
            <span class="auth-logo-text">{{ shop.name }}</span>
          {%- endif -%}
        </a>
      </div>
      
      <div class="auth-header">
        <h1 class="auth-title">Create Account</h1>
        <p class="auth-subtitle">Join us and start shopping</p>
      </div>
      
      {%- form 'create_customer', class: 'auth-form' -%}
        {%- if form.errors -%}
          <div class="auth-errors">
            <ul>
              {%- for field in form.errors -%}
                <li>{{ form.errors.messages[field] }}</li>
              {%- endfor -%}
            </ul>
          </div>
        {%- endif -%}
        
        <div class="form-group">
          <label for="customer-first-name">First Name</label>
          <input type="text" 
                 name="customer[first_name]" 
                 id="customer-first-name" 
                 class="form-control"
                 placeholder="John"
                 autocomplete="given-name"
                 required>
        </div>
        
        <div class="form-group">
          <label for="customer-last-name">Last Name</label>
          <input type="text" 
                 name="customer[last_name]" 
                 id="customer-last-name" 
                 class="form-control"
                 placeholder="Doe"
                 autocomplete="family-name"
                 required>
        </div>
        
        <div class="form-group">
          <label for="customer-email">Email Address</label>
          <input type="email" 
                 name="customer[email]" 
                 id="customer-email" 
                 class="form-control"
                 placeholder="you@example.com"
                 autocomplete="email"
                 required>
        </div>
        
        <div class="form-group">
          <label for="customer-password">Password</label>
          <div class="password-field">
            <input type="password" 
                   name="customer[password]" 
                   id="customer-password" 
                   class="form-control"
                   placeholder="At least 8 characters"
                   autocomplete="new-password"
                   minlength="8"
                   required>
            <button type="button" class="password-toggle" onclick="togglePassword('customer-password', this)">
              <i class="fa-solid fa-eye"></i>
            </button>
          </div>
        </div>
        
        <div class="form-group" style="margin-bottom: 24px;">
          <label class="remember-me">
            <input type="checkbox" required>
            <span>I agree to the <a href="/policies/terms-of-service" style="color: #7367f0;">Terms of Service</a> and <a href="/policies/privacy-policy" style="color: #7367f0;">Privacy Policy</a></span>
          </label>
        </div>
        
        <button type="submit" class="auth-submit">Create Account</button>
      {%- endform -%}
      
      <div class="auth-divider"><span>or</span></div>
      
      <p class="auth-footer">
        Already have an account? <a href="{{ routes.account_login_url }}">Sign in</a>
      </p>
      
    </div>
  </div>
</div>

<script>
function togglePassword(inputId, btn) {
  const input = document.getElementById(inputId);
  const icon = btn.querySelector('i');
  if (input.type === 'password') {
    input.type = 'text';
    icon.classList.remove('fa-eye');
    icon.classList.add('fa-eye-slash');
  } else {
    input.type = 'password';
    icon.classList.remove('fa-eye-slash');
    icon.classList.add('fa-eye');
  }
}
</script>
